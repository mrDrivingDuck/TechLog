# Vert.x - Asynchronous & Non-blocking

Created by : Mr Dk.

2019 / 02 / 11 10:24

Longyou, Zhejiang, China

---

### Asynchronous & Synconronous

同步 _I/O_ 模型和异步 _I/O_ 模型

在 _POSIX_ 定义中，导致进程阻塞直到 _I/O_ 完成的操作是同步 _I/O_，反之则是异步 _I/O_

---

### Blocking & Non-blocking

阻塞：整个进程等待 _I/O_ 完成；在此过程中进程不能做别的事情

---

### Theory

_I/O_ 过程分为两个阶段

1. 数据准备阶段（网络、磁盘、外设等） - 传输过程
2. 数据从内核空间复制到用户空间 - `read()` 调用等过程

####  Synchronous I/O

* 同步阻塞 - 第 `1` 步完成后才返回
* 同步非阻塞 - 第 `1` 步开始后即返回，但需要轮询第 `1` 步是否完成

但是第 `2` 步都需要当前进程完成，如 _Linux Socket_

#### Asynchronous I/O

在第 `1` 步开始后返回，在第 `2` 步完成后才提醒用户

---

### Example

>老张喜欢喝茶和看电视。
>
>同步阻塞：老张烧了一壶水泡茶，坐在壶前等水开了才能回去看电视
>
>同步非阻塞：老张把水烧上，然后去看电视，但是时不时需要去看看水开了没
>
>异步阻塞：老张买了个水开了自己会响的水壶，把水烧上，坐在壶前等水开（有点傻）
>
>异步非阻塞：老张把水烧上，去看电视；听到水壶响了以后再去处理开水

这个例子还挺贴切的，哪种 _I/O_ 的性能比较好显而易见

---

### Summary

__异步、非阻塞__ 是 _Vert.x_ 最有价值的部分

但是还是一直都不太懂到底在什么样的层面上提高了性能

现在还是一知半解 似乎稍微有点明白了

---

